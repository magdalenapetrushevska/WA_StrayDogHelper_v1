@model WA_StrayDogHelper_v1.Models.DomainModels.Dog
@using Microsoft.AspNetCore.Identity
@using System.Security.Claims;
@inject SignInManager<WA_StrayDogHelper_v1.Models.IdentityModels.ApplicationUser> SignInManager
@inject UserManager<WA_StrayDogHelper_v1.Models.IdentityModels.ApplicationUser> UserManager



<div class="container mt-3 mb-3" style="width: 65rem;">




    
    @{
        var loggedInUserId = User.FindFirstValue(ClaimTypes.NameIdentifier);
        if (Model.UserId.Equals(loggedInUserId))
        {


            <div class="mr-4 pr-4">
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-outline-primary mr-2" style="border-color:dimgrey">Edit</a>
                <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-outline-danger" style="border-color:dimgrey">Delete</a>
            </div>
        }
        else
        {
            <a asp-action="AddToFavoriteDogs" asp-route-id="@Model.Id" class="btn btn-warning mb-0">
                Add to favorites  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                    <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                </svg>
            </a>
        }
    }




    <div class="text-center mt-0">
        <h2>@Model.Name</h2>
        <h5>Age: @Model.AgeYears years and @Model.AgeMonths months</h5>
        <img src="~/Images/AdoptionDogImages/@Model.ImageName" style="height:300px; width:300px;">
        <br>
        <br>
        <p class="card-text">
            @Model.ShortLifeStory
        </p>
        <hr class="mb-2">
        <div class="mb-3">

            @{
                if (Model.Disabled.ToString().Equals("True"))
                {
                    <img src="~/Images/ProjectImages/disabledIcon.png" style="height:70px; width:70px;">
                    <p class="d-inline mr-5">Disabled</p>
                }
            }

            @{
                if (Model.Sterilized.ToString().Equals("True"))
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-scissors"
                         viewBox="0 0 16 16">
                        <path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z" />
                    </svg>
                    <p class="d-inline mr-5">Sterilized</p>
                }
            }

            @{
                if (Model.Chipped.ToString().Equals("True"))
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-cpu-fill"
                         viewBox="0 0 16 16">
                        <path d="M6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z" />
                        <path d="M5.5.5a.5.5 0 0 0-1 0V2A2.5 2.5 0 0 0 2 4.5H.5a.5.5 0 0 0 0 1H2v1H.5a.5.5 0 0 0 0 1H2v1H.5a.5.5 0 0 0 0 1H2v1H.5a.5.5 0 0 0 0 1H2A2.5 2.5 0 0 0 4.5 14v1.5a.5.5 0 0 0 1 0V14h1v1.5a.5.5 0 0 0 1 0V14h1v1.5a.5.5 0 0 0 1 0V14h1v1.5a.5.5 0 0 0 1 0V14a2.5 2.5 0 0 0 2.5-2.5h1.5a.5.5 0 0 0 0-1H14v-1h1.5a.5.5 0 0 0 0-1H14v-1h1.5a.5.5 0 0 0 0-1H14v-1h1.5a.5.5 0 0 0 0-1H14A2.5 2.5 0 0 0 11.5 2V.5a.5.5 0 0 0-1 0V2h-1V.5a.5.5 0 0 0-1 0V2h-1V.5a.5.5 0 0 0-1 0V2h-1V.5zm1 4.5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3A1.5 1.5 0 0 1 6.5 5z" />
                    </svg>
                    <p class="d-inline mr-5">Chipped</p>
                }
            }

            @{
                if (Model.Vaccinated.ToString().Equals("True"))
                {
                    <img src="~/Images/ProjectImages/vaccineIcon.png" style="height:50px; width:50px;">
                    <p class="d-inline mr-4">Vaccinated</p>
                }
            }




            @{
                if (Model.Sex.ToString().Equals("Female"))
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-gender-female" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 1a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM3 5a5 5 0 1 1 5.5 4.975V12h2a.5.5 0 0 1 0 1h-2v2.5a.5.5 0 0 1-1 0V13h-2a.5.5 0 0 1 0-1h2V9.975A5 5 0 0 1 3 5z" />
                    </svg>
                    <p class="d-inline mr-4">Female</p>
                }
                else
                {
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-gender-male" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M9.5 2a.5.5 0 0 1 0-1h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V2.707L9.871 6.836a5 5 0 1 1-.707-.707L13.293 2H9.5zM6 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" />
                    </svg>
                    <p class="d-inline mr-4">Male</p>
                }
            }





        </div>

        <div class="d-inline mt-5">

            @{
                //var loggedInUserId = User.FindFirstValue(ClaimTypes.NameIdentifier);
                if (!Model.UserId.Equals(loggedInUserId))
                {
                        <a class="btn btn-outline-success mr-4" asp-action="ContactForAdoption" asp-route-id="@Model.UserId">Adopt</a>
                    }
                }



                <a asp-action="ListDogCategories" class="btn btn-outline-warning mr-4">Back to list</a>
                @* <a asp-action="TermsOfAdoption" class="btn btn-outline-secondary mr-4">Terms of adoption</a>*@
            </div>

    </div>
</div>



